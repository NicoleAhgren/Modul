# Reflektion clean code

| Namn | Förklaring | Reflektion & regler från clean code |
|------|------------|-------------------------------------|
| currentQ | Variabel i metoden checkAnswer() som är en referens till Question objektet i activeQuestions | **Avoid mental mapping & Use searchable names** - Jag valde att bara använda mig av en bokstav i andra namnet vilket kan göra det förvirrande för både mig sjäv och andra programmerare framöver eftersom man måste anta vad Q ska stå för, jag hade istället kunnat välja ett bättre namn som exempelvis currentQuestion. Det blir även svårt att hitta saker i koden om namnen är otydliga. |
| start() | Metod som startar timern | **Add meaningful context** - Just nu heter min metod bara start() vilket kan göra det förvirrande att veta vad exakt den startar. Det är viktigt att ha med vad metoden gör i namnet så man kan få en förståelse för vad den gör. **Avoid disinformation** - Eftersom namnet start() inte förklarar vad metoden exakt startar så kan det bli disinformation eller noninformation (som de pratar om i make meaningful distinctions) vilket leder till förvirring eller missförstånd |
| getNextQuestion() | Metod som returnerar nästa fråga och startar timern för frågan | **Intention Revealing names** - Namnet tycker jag är bra i sig, det förklarar bra vad den gör men jag har även lagt till att den startar timern när den hämtar nästa fråga vilket kan vara missledande. **Avoid disinformation** -- På samma sätt som innan så finns inte all information i namnetvilket gör det svårt för kodaren att förstå att det händer mer saker i metoden än att bara hämta nästa fråga. |
| getSummary() | Metod i klassen AnswerLog som returnerar en array med varje fråga och status med vad användaren svarade | **Method names** Namnet har en bra grund eftersom det börjar med ett verb "get" som en metod ska göra. **Add meaningful context** - Namnet visar dock återigen inte exakt vad den hämtar för sammanfattning, det hade varit bättre att ha ett namn som exempelvis getAnswerSummary() |
| Timer | Klassen som tar hand om timern. Starta, tid som gått, om tiden gått ut och tid kvar. | **Class names** - Mitt klassnammn är kort, ett substantiv och det förklarar bra vad klassen hanterar. |

## Reflektion kap 2

Jag har lärt mig mycket från kapitel två, speciellt om avoid disinformation och add meaningful context som jag tycker går lite hand i hand. Jag märkte när jag läste och gick igenom koden att det var de jag hade mest problem med, jag skriver hellre korta namn än långa och förklarande. Av att läsa kapitlet har jag lärt mig hur man istället ska välja namn och varför det är viktigt. 



| Metodnamn | Länk eller kod | Antal rader | Reflektion |
|-----------|----------------|-------------|------------|
| startQuiz() || 14 | **Do one thing & Have no side effects** - Metoden startQuiz() gör just nu många olika saker som att få fram frågorna, blanda dem, starta en timer och sedan reset vilket inte är bra. Som de säger i boken, en metod/funktion ska bara göra en sak och borde inte ha yttligare "gömda" saker som den gör eftersom det kan leda till att saker går fel i koden eller oförväntade ändringar. |
| checkAnswer() || 16 | **Command query separation** - En funktion är till för att antingen göra något eller returnera något eftersom om man har med båda så kan det ofta bli förvirrande. I min metod så har jag att den returnerar om det är rätt svar och ger ett poäng men sedan loggar även svaret i min answerLog. Istället borde jag dela upp metoden i exempelvis checkAnswer() och handleAnswer(). |
| getNextQuestion() || 12 | **Use descriptive names** - Som jag förklarade i reflektionen på kapitel 2 så hade namnet på denna metod kunnat förbättras. Det är viktigt att ha namn som beskriver vad en metod gör för att kunna ge en större och bättre förståelse av koden så man vet exakt vad metoden ska göra. Som boken säger på sida 39 "A long descriptive name is better than a short enigmatic name", jag hade kunnat dela upp metoden i flera mindre eller ha ett bättre namn eftersom den just nu gör mer saker än namnet visar. |
| addQuestion() || 9 | **Do one thing** - I boken nämner dem att error handling räknas som en sak en metod gör. I min metod så har jag med både validering för input och att kunna lägga till en fråga. Jag hade istället kunnat lägga till en metod för endast validering av input i frågan så att addQuestion() endast ansvarar för att lägga till en fråga. **Function arguments** - I denna metod har jag även med 3 argument (text, answers och correctIndex) vilket gör metoden till en **triad** och enligt boken ska det undvikas där det är möjligt. Jag anser dock att det var nödvändigt och bra i denna metod eftersom det handlar om en fråga som har dessa delar i sig. Det gör det även lättare för andra programmerare eller mig själv i framtiden att fortsätta jobba på metoden om allt är samlat. |
| getAnswerStats() || 10 | **DRY (Don't Repeat Yourself)** - Min metod upprepar just nu filterlogik flera gånger vilket går emot DRY. Det finns andra sätt man kan göra istället för att behöva upprepa samma sak flera gånger som exempelvis ha med en loop. Just nu itererar jag över entries tre gånger och med en for-loop behöver den bara gå igenom en gång för att samla in allt. |

## Reflektion kap 3

Jag har lärt mig mycket i kap 3 också, do one thing är något jag märkt att jag har svårt för då jag ofta har för mycket saker i en och samma metod. Jag har även lärt mig vad have no side effects och command query separation är vilket är ganska likt do one thing. Det är dem jag känner att jag har svårast med vilket också har med vad jag sa i reflektionen på kapitel 2, att jag ofta hellre gör korta namn instället för långa och beskrivande vilket har med use descriptive names från kapitel 3 att göra. Det är svårt att ha bra och beskrivande namn när mina metoder gör mycket saker på samma gång.

## Reflektion över egen kodkvalitet

Jag är för det mesta nöjd med min kod men jag har som sagt insett att det finns mycket jag kan förbättra och ändra för att göra den bättre. Även fast jag har mycket som kan förbättras så är jag ändå nöjd med min kod eftersom jag insett efter att ha läst boken att jag har förbättrats mycket sen jag började programmera. 

Det jag måste tänka på mest i framtiden är nog do one thing eftersom det var det jag kände var det jag hade mest problem med. Jag måste även jobba på namnen på mina metoder men jag tror att det hade varit lättare med namnen om jag hade mindre mer fokuserade metoder. Jag har även varit slarvig med vissa namn såsom namn med mental mapping och add meaningful context så det måste jag även tänka på i framtiden. 
Oavsett så är jag ganska nöjd med min kod och jag har lärt mig mycket om hur man skriver en ren och fin kod.